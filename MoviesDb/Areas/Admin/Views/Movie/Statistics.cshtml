@using MoviesDB.Business.Entities.DTOs

@{
    ViewBag.Title = "Statistics";
}

<div class="page-head">
    <!-- BEGIN PAGE TITLE -->
    <div class="page-title">
        <h1>Movie <small>Complete list of available genres</small>
        </h1>
    </div>
    <!-- END PAGE TITLE -->
</div>

<div class="row">
    <div class="col-md-12">
        <!-- BEGIN CHART PORTLET-->
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-bar-chart font-green-haze"></i>
                    <span class="caption-subject bold uppercase font-green-haze">Movies</span>
                    <span class="caption-helper">by Genre</span>
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse">
                    </a>
                    <a href="#portlet-config" data-toggle="modal" class="config">
                    </a>
                    <a href="javascript:;" class="reload">
                    </a>
                    <a href="javascript:;" class="fullscreen">
                    </a>
                    <a href="javascript:;" class="remove">
                    </a>
                </div>
            </div>
            <div class="portlet-body">
                <div id="chartdiv" style="width: 100%; height: 700px">

                </div>
            </div>
        </div>
        <!-- END CHART PORTLET-->
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <!-- BEGIN CHART PORTLET-->
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-bar-chart font-green-haze"></i>
                    <span class="caption-subject bold uppercase font-green-haze">Movies</span>
                    <span class="caption-helper">by Year</span>
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse">
                    </a>
                    <a href="#portlet-config" data-toggle="modal" class="config">
                    </a>
                    <a href="javascript:;" class="reload">
                    </a>
                    <a href="javascript:;" class="fullscreen">
                    </a>
                    <a href="javascript:;" class="remove">
                    </a>
                </div>
            </div>
            <div class="portlet-body">
                <div id="chartdiv2" style="width: 100%; height: 600px">

                </div>
            </div>
        </div>
        <!-- END CHART PORTLET-->
    </div>
</div>



@section footerScripts
{
    <script src="~/Areas/Admin/Content/amcharts/amcharts.js"></script>
    <script src="~/Areas/Admin/Content/amcharts/serial.js"></script>
    <script src="~/Areas/Admin/Content/amcharts/themes/light.js"></script>

    <script>
    var chart = AmCharts.makeChart("chartdiv", {
        "type": "serial",
        "theme": "light",
        "categoryField": "Genre",
        "rotate": true,
        "startDuration": 1,
        "categoryAxis": {
            "gridPosition": "start",
            "position": "left"
        },

        "trendLines": [],
        "graphs": [
            {
                "balloonText": "Movie:[[value]]",
                "fillAlphas": 0.8,
                "id": "AmGraph-1",
                "lineAlpha": 0.2,
                "title": "Income",
                "type": "column",
                "valueField": "Count"
            }
        ],
        "guides": [],
        "valueAxes": [
            {
                "id": "ValueAxis-1",
                "position": "top",
                "axisAlpha": 0
            }
        ],
        "allLabels": [],
        "balloon": {},
        "titles": [],
        "dataProvider": @Html.Raw(new HtmlString(ViewBag.jsonMovieGenre)),
            "export": {
                "enabled": true
            }
        });

        var chart = AmCharts.makeChart( "chartdiv2", {
            "type": "serial",
            "theme": "light",
            "dataProvider": @Html.Raw(new HtmlString(ViewBag.jsonMovieYear)),
            "valueAxes": [ {
                "gridColor": "#FFFFFF",
                "gridAlpha": 0.1,
                "dashLength": 0
            } ],
            "gridAboveGraphs": true,
            "startDuration": 1,
            "graphs": [ {
                "balloonText": "[[category]]: <b>[[value]]</b>",
                "fillAlphas": 0.8,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "Count"
            } ],
            "chartCursor": {
                "categoryBalloonEnabled": false,
                "cursorAlpha": 0,
                "zoomable": false
            },
            "categoryField": "Year",
            "categoryAxis": {
                "gridPosition": "start",
                "gridAlpha": 0,
                "tickPosition": "start",
                "tickLength": 20
            },
            "export": {
                "enabled": true
            }
        } );

        </script>
}

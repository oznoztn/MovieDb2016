@using Kendo.Mvc.UI

@{
    ViewBag.Title = "title";
}
<div class="page-head">
    <!-- BEGIN PAGE TITLE -->
    <div class="page-title">
        <h1>Language <small>Complete list of available languages</small></h1>
    </div>
    <!-- END PAGE TITLE -->
</div>
<!-- END PAGE HEAD -->
<!-- END PAGE HEADER-->

<div class="row">
    <div class="col-md-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-globe"></i>Languages
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"></a>
                    <a href="javascript:;" class="remove"></a>
                </div>
            </div>
            <div class="portlet-body">
                <div class="table-toolbar">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="btn-group">
                                <form method="GET" action="@Url.Action("Create", "Language")">
                                    <button type="submit" class="btn green">
                                        Create a new one <i class="fa fa-plus"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <script src="~/Areas/Admin/Content/kendo/js/kendo.all.min.js"></script>
                <script src="~/Areas/Admin/Content/kendo/js/kendo.aspnetmvc.min.js"></script>

                <link href="~/Areas/Admin/Content/kendo/styles/kendo.common.min.css" rel="stylesheet" />
                <link href="~/Areas/Admin/Content/kendo/styles/kendo.common-bootstrap.core.min.css" rel="stylesheet" />

                <link href="~/Areas/Admin/Content/kendo/styles/kendo.bootstrap.min.css" rel="stylesheet" />
                <link href="~/Areas/Admin/Content/kendo/kendopatch.css" rel="stylesheet" />

                @(Html.Kendo().Grid<Language>().Name("grid").Columns(columns =>
                    {
                        columns.Bound(c => c.Name).Title("Name");
                        //columns.Bound(null).Title("Movies");
                        columns.Command(col =>
                        {
                            col.Edit().CancelText("Cancel").UpdateText("Save").Text("Edit");
                            col.Destroy().Text("Delete");
                            //col.Custom("f").Text("<a href='/admin/language/edit/#= Id#'>Düzenle</a>");

                        }).Title("Operation").Width(184);
                        columns.Bound(x => x.Id).Title("").ClientTemplate("<a href='/admin/language/edit/#= Id#'>Detailed edit</a>").Width(100);
                    })
                        //.HtmlAttributes(new { style = "height: 380px;" })
                        //.Scrollable(scr=>scr.Height(230))
                        //.Groupable()
                        //.Sortable()
                    .Pageable(pageable => pageable
                        .Refresh(true)
                        .PageSizes(false)
                        .ButtonCount(25))
                    .DataSource(dataSource => dataSource.Ajax()
                        .PageSize(25)
                        .Events(e => e.Sync("sync_handler"))
                        .Events(e => e.Error("error_handler"))
                        .Model(mod =>
                            {
                                mod.Id(p => p.Id);
                                mod.Field(x => x.Id).Editable(false);
                            })
                            .Destroy(action => action.Action("Language_Delete", "Language"))
                            .Update(action => action.Action("Language_Update", "Language"))
                            .Read(read => read.Action("Language_Read", "Language")))
                            .Editable(editable => editable.Mode(GridEditMode.InLine)
                        ))

                <script type="text/javascript">
                    function sync_handler(e) {
                        this.read();
                    }
                    function error_handler(e) {
                        this.read();
                    }
                </script>
            </div>
        </div>
        <!-- END EXAMPLE TABLE PORTLET-->
    </div>
</div>

